# 执行上下文，作用域，作用域链
> 执行上下文

**执行上下文**是js代码在解析和执行时所在的环境。
- 执行上下文是动态的。
- 全局执行上下文，是在全局作用域确定后，js代码执行前创建的。
- 函数执行上下文，是在函数作用域确定后，函数调用前确定的。
- 执行上下文在其内部所有代码都执行完毕后会被销毁，包括定义在它上面的函数和变量也会被销毁。
- 全局执行上下文要在程序关闭后才销毁，比如关闭浏览器。

> 作用域

**作用域**是一个独立的地盘，作用是隔离函数和变量，让它不会外泄。
- 作用域是静态的。
- 函数定义时，函数的作用域也同时确定了。
- 同一个函数调用多次，作用域是一定的，但是会产生不同的执行上下文。因为传参不同，执行上下文中的变量就不同。

> 作用域链

**作用域链**执行上下文的代码在运行时会创建一个作用域链，作用域链决定了代码在访问变量和函数时的顺序。
```
var color = "blue";  
function changeColor() {   
    if (color === "blue") {     
        color = "red";   
    } else {     
        color = "blue";   
    } 
}
```
上面的代码有两个作用域，一个是最外层的全局作用域，一个是changeColor的函数作用域。函数内部能访问变量color，是因为标识符解析是沿着作用域链进行的。
现在当前作用域寻找时候包含color，如果没有，则取外层作用域寻找，以此类推。

**内部作用域可以访问外部作用域定义的函数和变量，反之，外部作用域不能访问内部作用域定义的函数和变量**

